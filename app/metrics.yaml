# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.
---
$schema: moz://mozilla.org/schemas/glean/metrics/2-0-0

no_lint:
  - CATEGORY_GENERIC
  - COMMON_PREFIX

browser:
  is_default:
    type: boolean
    lifetime: application
    description: |
      Is Focus the default browser? This is true only if the user
      changes the default browser through the app settings.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/4545
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5065#issuecomment-894328647
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  default_search_engine:
    type: string
    lifetime: application
    description: |
      A string containing the default search engine name.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/4545
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5065#issuecomment-894328647
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    send_in_pings:
      - baseline
      - metrics
    no_lint:
      - BASELINE_PING
    expires: 119
  locale_override:
    type: string
    lifetime: application
    description: |
      The locale that differs from the system locale if a user
      specifically overrides it for the app.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/4545
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5065#issuecomment-894328647
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - technical
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  total_uri_count:
    type: counter
    description: |
      Records count of URIs visited by the user in the current session,
      including page reloads.
      It does not include background page requests and URIs from embedded pages
      but may be incremented without user interaction by website scripts
      that programmatically redirect to a new location.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5518
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5523
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - mcarare@mozilla.com
    send_in_pings:
      - metrics
      - baseline
    no_lint:
      - BASELINE_PING
    expires: never
  install_source:
    type: string
    lifetime: application
    description: Used to identify the source the app was installed from.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5684
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5694
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - technical
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  back_button_pressed:
    type: event
    description: Back button has been presed on a browser tab.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5914
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5913
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      action_performed:
        description: |
          The action performed by pressing back button:
          erase_to_home or erase_to_external_app.
        type: string
  report_site_issue_counter:
    type: counter
    description: |
      A counter that indicates how many times a user has tapped
      the report site issue from browser menu
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5897
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5898
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never

perf.startup:
  startup_type:
    type: labeled_counter
    description: |
      Indicates how the browser was started. The label is divided into two
      variables. `state` is how cached the browser is when started. `path` is
      what code path we are expected to take. Together, they create a combined
      label: `state_path`. For brevity, the specific states are documented in
      the [Fenix perf
      glossary](https://wiki.mozilla.org/index.php?title=Performance/Fenix/Glossary).
      <br><br>
      This implementation is intended to be simple, not comprehensive. We list
      the implications below.

      <br><br>
      These ways of opening the app undesirably adds events to our primary
      buckets (non-`unknown` cases):
      <br>- App switcher cold/warm: `cold/warm_` + duplicates path from
      previous launch
      <br>- An Intent is sent internally that's uses `ACTION_MAIN` or
      `ACTION_VIEW` could be: `*_main/view` (unknown if this ever happens)
      <br>- A command-line launch uses `ACTION_MAIN` or `ACTION_VIEW` could be:
      `*_main/view`

      <br><br>
      These ways of opening the app undesirably do not add their events to our
      primary buckets:
      <br>- Close and reopen the app very quickly: no event is recorded.

      <br><br>
      These ways of opening the app don't affect our primary buckets:
      <br>- App switcher hot: `hot_unknown`
      <br>- PWA (all states): `unknown_unknown`
      <br>- Custom tab: `unknown_view`
      <br>- Cold start where a service or other non-activity starts the process
      (not manually tested) - this seems to happen if you have the homescreen
      widget: `unknown_*`
      <br>- Another activity is drawn before MainActivity or CustomTabActivity
      (e.g. widget voice
      search): `unknown_*`

      <br>
      In addition to the events above, the `unknown` state may be chosen when we
      were unable to determine a cause due to implementation details or the API
      was used incorrectly. We may be able to record the events listed above
      into different buckets but we kept the implementation simple for now.
      <br><br>
      N.B.: for implementation simplicity, we duplicate the logic in app that
      determines `path` so it's not perfectly accurate. In one way, we record we
      is intended to happen rather than what actually happened (e.g. the user
      may click a link so we record VIEW but the app does a MAIN by going to the
      homescreen because the link was invalid).
    labels:
      - cold_main
      - cold_view
      - cold_unknown
      - warm_main
      - warm_view
      - warm_unknown
      - hot_main
      - hot_view
      - hot_unknown
      - unknown_main
      - unknown_view
      - unknown_unknown
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7079
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/
    data_sensitivity:
      - interaction
    notification_emails:
      - perf-telemetry-alerts@mozilla.com
      - mleclair@mozilla.com
    expires: never

activation:
  activation_id:
    type: uuid
    lifetime: user
    description: |
      An alternate identifier, not correlated with the client_id, generated once
      and only sent with the activation ping.
    send_in_pings:
      - activation
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/4545
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/issues/4901
    data_sensitivity:
      - highly_sensitive
    notification_emails:
      - android-probes@mozilla.com
      - jalmeida@mozilla.com
    expires: never

legacy_ids:
  client_id:
    type: uuid
    description: |
      Sets the legacy client ID as part of the deletion-reqest ping.
    send_in_pings:
      - deletion-request
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/4545
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5512#issuecomment-1023668181
    notification_emails:
      - jalmeida@mozilla.com
      - android-probes@mozilla.com
    expires: never

browser.search:
  with_ads:
    type: labeled_counter
    description: |
      Records counts of SERP pages with adverts displayed.
      The key format is `<provider-name>`.
    send_in_pings:
      - metrics
    bugs:
      - https://github.com/mozilla-mobile/fenix/issues/4967
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/4968#issuecomment-879256443
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  ad_clicks:
    type: labeled_counter
    description: |
      Records clicks of adverts on SERP pages.
      The key format is `<provider-name>`.
    send_in_pings:
      - metrics
      - baseline
    no_lint:
      - BASELINE_PING
    bugs:
      - https://github.com/mozilla-mobile/fenix/issues/4967
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/4968#issuecomment-879256443
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  in_content:
    type: labeled_counter
    description: |
      Records the type of interaction a user has on SERP pages.
    send_in_pings:
      - metrics
      - baseline
    no_lint:
      - BASELINE_PING
    bugs:
      - https://github.com/mozilla-mobile/fenix/issues/4967
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/4968#issuecomment-879256443
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119

  search_count:
    type: labeled_counter
    description: |
      The labels for this counter are `<search-engine-name>.<source>`.

      If the search engine is bundled with Focus `search-engine-name` will be
      the name of the search engine. If it's a custom search engine (defined:
      https://github.com/mozilla-mobile/fenix/issues/1607) the value will be
      `custom`.

      `source` will be: `action`, `suggestion`
    send_in_pings:
      - metrics
      - baseline
    no_lint:
      - BASELINE_PING
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/6229
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/6238
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - technical
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never

mozilla_products:
  has_fenix_installed:
    type: boolean
    lifetime: application
    description: |
       If Fenix is installed on the users's device.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5295
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5303
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - technical
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  is_fenix_default_browser:
    type: boolean
    lifetime: application
    description: |
      Fenix is the default browser on user's device
    send_in_pings:
      - metrics
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5295
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5303
      - https://github.com/mozilla-mobile/focus-android/pull/6315
    data_sensitivity:
      - technical
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 111

settings_screen:
  whats_new_tapped:
    type: counter
    description: |
      A counter that indicates how many times a user has clicked
      the whats new button from settings screen.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5058
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5096
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119

autocomplete:
  domain_added:
    type: counter
    description: |
      A counter that indicates how many times a user has added
      a website to the autocomplete list.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5885
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5886
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  domain_removed:
    type: counter
    description: |
      A counter that indicates how many times a user has removed
      a website from the autocomplete list.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5885
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5886
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  list_order_changed:
    type: counter
    description: |
      A counter that indicates how many times a user has reordered
      the autocomplete list.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5885
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5886
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  top_sites_setting_changed:
    type: event
    description: |
      Autocomplete setting for top sites has changed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5885
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5940
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_enabled:
        description: The new setting true for ON, false for OFF
        type: boolean
  favorite_sites_setting_changed:
    type: event
    description: |
      Autocomplete setting for favorite sites has changed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5885
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5940
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_enabled:
        description: The new setting true for ON, false for OFF
        type: boolean

shortcuts:
  shortcuts_on_home_number:
    type: quantity
    description: |
      The number of shortcuts the user has on home screen,
      0, 1, 2, 3 or 4 (maximum)
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5056
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5189
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
    unit: shortcut(s)
  shortcut_opened_counter:
    type: counter
    description: |
      A counter that indicates how many times a user has opened
      a website from a shortcut in the home screen.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5056
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5189
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  shortcut_added_counter:
    type: counter
    description: |
      A counter that indicates how many times a user has added
      a website to shortcuts.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5056
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5189
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  shortcut_removed_counter:
    type: labeled_counter
    description: |
      A counter that indicates how many times a user has removed
      a website from shortcuts.
      It also indicates the screen it was removed from, home or browser.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5056
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5189
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
    labels:
      - removed_from_browser_menu
      - removed_from_home_screen
tracking_protection:
  toolbar_shield_clicked:
    type: counter
    description: |
      A counter that indicates how many times a user has opened
      the tracking protection settings panel from the toolbar.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5057
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5163
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119

  tracking_protection_changed:
    type: event
    description: |
      The user has changed the setting for enhanced tracking protection.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5057
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5163
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
    extra_keys:
      is_enabled:
        description: The new setting for ETP, true for ON, false for OFF
        type: boolean

  has_ever_changed_etp:
    type: boolean
    description: |
      The user has changed the setting for enhanced tracking protection
      at least once.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5057
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5163
      - https://github.com/mozilla-mobile/focus-android/pull/5543
    data_sensitivity:
      - interaction
    lifetime: user
    notification_emails:
      - android-probes@mozilla.com
      - mcarare@mozilla.com
    expires: never

  tracker_setting_changed:
    type: event
    description: |
      The user has changed the advertising tracker protection state.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5057
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5163
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
    extra_keys:
      source_of_change:
        description: The source of interaction, "Panel" or "Settings"
        type: string
      tracker_changed:
        description: |
          The tracker changed, "Advertising", "Analytics", "Social", "Content"
        type: string
      is_enabled:
        description: The new setting for tracker, true for ON, false for OFF
        type: boolean

  has_social_blocked:
    type: boolean
    description: |
      The user has changed the setting for enhanced tracking protection
      at least once.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5057
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5163
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119

  has_advertising_blocked:
    type: boolean
    description: |
      The user has changed the setting for enhanced tracking protection
      at least once.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5057
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5163
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119

  has_analytics_blocked:
    type: boolean
    description: |
      The user has changed the setting for enhanced tracking protection
      at least once.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5057
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5163
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119

  has_content_blocked:
    type: boolean
    description: |
      The user has changed the setting for enhanced tracking protection
      at least once.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5057
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5163
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
pro_tips:
  tip_displayed:
    type: event
    description: A pro tip has been displayed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5541
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5542
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      tip_id:
        description: |
          The tip code of tip being displayed. Can be one of fresh_look_tip,
          shortcuts_tip, allow_list_tip, etp_tip,request_desktop_tip.
          Note that fresh_look_tip is automatically displayed on home screen.
        type: string
  link_in_tip_clicked:
    type: event
    description: A link in a pro tip has been clicked.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5541
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5542
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      tip_id:
        description: |
          The tip code of tip being clicked.
          Can be one of fresh_look_tip, allow_list_tip, request_desktop_tip.
        type: string

preferences:
  user_theme:
    type: string
    description: >
      A string that indicates the theme.
      Can be one of LIGHT, DARK, or FOLLOW DEVICE.
      Default is FOLLOW DEVICE.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5519
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5526
      - https://github.com/mozilla-mobile/focus-android/pull/7418#issuecomment-1195518264
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119

app_opened:
  from_icons:
    type: event
    description: |
      The user has opened the app using launcher icons
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5546
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5552
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      open_type:
        description: |
          Can be "Launch" if Focus was not already opened or "Resume" if it was.
        type: string
  from_launcher_site_shortcut:
    type: event
    description: |
      The user has opened the app using launcher website shortcut
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5547
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5839
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  browse_intent:
    type: event
    description: |
      App was opened from a browse intent.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5547
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5839
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  text_selection_intent:
    type: event
    description: |
      App was opened from a text selection intent.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5547
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5839
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  share_intent:
    type: event
    description: |
      App was opened from a share intent.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5547
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5839
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_search:
        description: Is the shared intent a search?
        type: boolean


add_to_home_screen:
  dialog_displayed:
    type: event
    description: The dialog for adding home screen shorcut was displayed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5548
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5598
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  add_button_tapped:
    type: event
    description: The add(yes) option from add to home dialog was tapped.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5548
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5598
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      has_edited_title:
        description: Did the user edit the default title provided by the app?
        type: boolean
  cancel_button_tapped:
    type: event
    description: The cancel(no) option from add to home dialog was tapped.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5548
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5598
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
set_default_browser:
  from_app_settings:
    type: event
    description: |
      The user has changed default browser from the app.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5636
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5637
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_default:
        description: Shows if Focus was already default.
        type: boolean
  from_os_settings:
    type: event
    description: |
      The user has opened the OS settings to set default browser.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5636
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5637
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_default:
        description: Shows if Focus was already default.
        type: boolean
  learn_more_opened:
    type: event
    description: |
      The user has opened the learn more link.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5636
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5637
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_default:
        description: Shows if Focus was already default.
        type: boolean

tab_count:
  session_button_tapped:
    type: event
    description: The session button has been tapped to see session list.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5583
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5644
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      opened_tabs:
        description: Number of currently opened tabs
        type: quantity
  session_list_item_tapped:
    type: event
    description: The user has switched to a tab from the session list.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5583
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5644
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      opened_tabs:
        description: Number of currently opened tabs
        type: quantity
  session_list_closed:
    type: event
    description: The user has closed the session list.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5583
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5644
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      opened_tabs:
        description: Number of currently opened tabs
        type: quantity
  erase_button_tapped:
    type: event
    description: The erease button has been tapped to close opened sessions.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5583
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5644
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      opened_tabs:
        description: Number of currently opened tabs
        type: quantity
  new_tab_opened:
    type: event
    description: A new tab has opened.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5583
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5644
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      opened_tabs:
        description: Number of currently opened tabs
        type: quantity
      source:
        description: |
          Tab opened from "custom tab", "context menu" or from "Window.open()"
        type: string
  app_backgrounded:
    type: custom_distribution
    description: Number of opened tabs when the app has been send to background.
    range_min: 0
    range_max: 50
    bucket_count: 51
    histogram_type: linear
    unit: tabs
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5583
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5793
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never

search_bar:
  entered_url:
    type: event
    description: The user has entered a full url.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5546
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5660
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  performed_search:
    type: event
    description: The user has entered text and performed a search.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5546
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5660
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      engine_name:
        description: The name of the engine used to perform the search.
        type: string

show_search_suggestions:
  enabled_from_panel:
    type: event
    description: The "yes" option from the suggestion panel has been tapped.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5840
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5858
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  disabled_from_panel:
    type: event
    description: The "no"" option from the suggestion panel has been tapped.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5840
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5858
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  changed_from_settings:
    type: event
    description: The enabled state has been changed from the settings screen.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5840
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5858
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_enabled:
        description: The new setting value, true for ON, false for OFF
        type: boolean

downloads:
  download_started:
    type: event
    description: A download has been started.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5650
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5663
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  download_paused:
    type: event
    description: A download has been paused.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5650
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5663
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  download_canceled:
    type: event
    description: A download has been cancelled.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5650
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5663
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  download_completed:
    type: event
    description: A download has been completed successfully.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5650
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5663
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  download_failed:
    type: event
    description: The download has failed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5650
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5663
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      file_extension:
        description: The extension of the downloaded file.
        type: string
  open_button_tapped:
    type: event
    description: The open button from download confirmation was tapped.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5650
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5663
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      open_successful:
        description: Did the user succeed in opening the downloaded file?
        type: boolean
      file_extension:
        description: The extension of the downloaded file.
        type: string

search_engines:
  open_settings:
    type: event
    description: The user has opened the search engines settings page.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5646
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5713
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  add_engine_tapped:
    type: event
    description: The user has tapped on the add another search engine button.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5646
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5713
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  save_engine_tapped:
    type: event
    description: The user has tried to save a custom engine.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5646
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5713
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      save_successful:
        description: If the engine has been saved successfully.
        type: boolean
  set_default:
    type: event
    description: The user has set a search engine as default.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5646
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5713
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      engine_type:
        description: |
          The engine type set as default. Can be either "custom" or "bundled".
        type: string
  remove_engines:
    type: event
    description: The user has removed search engines.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5646
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5713
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      engine_count:
        description: How many search engines has the user removed
        type: quantity
  open_remove_screen:
    type: event
    description: The user has clicked the remove option from menu.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5646
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5713
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      current_engines_count:
        description: How many search engines did the user had at that point.
        type: quantity
  restore_default_engines:
    type: event
    description: The user has restored the default search engines
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5646
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5713
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      current_engines_count:
        description: How many search engines did the user had at that point.
        type: quantity
  learn_more_tapped:
    type: event
    description: The learn more button was tapped.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5646
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5713
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never

open_with:
  list_displayed:
    type: event
    description: The list of apps has been opened.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5654
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5703
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      list_size:
        description: The number of apps in the list
        type: quantity
  list_item_tapped:
    type: event
    description: The uer has opened the url with a app from the list.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5654
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5703
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      package_name:
        description: The app the user has chosen is a Mozilla product.
        type: boolean
  install_firefox:
    type: event
    description: The user has clicked install Firefox from store item.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5654
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5703
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never

crash_reporter:
  displayed:
    type: event
    description: The crash report has been displayed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5652
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5725
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  close_report:
    type: event
    description: The crash report has been submitted.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5652
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5725
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      submit_report:
        description: Did the user choose to send the report?
        type: boolean

browser_menu:
  navigation_toolbar_action:
    type: event
    description: The user has tapped on a navigation toolbar item.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5648
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5748
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      item:
        description: |
          A string containing the name of the item the user tapped:
          back, forward, share, reload, stop
        type: string
  browser_menu_action:
    type: event
    description: The user has tapped on a browser menu item.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5648
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5748
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      item:
        description: |
          A string containing the name of the item the user tapped:
          add_to_homescreen, desktop_view_off, desktop_view_on,
          find_in_page, open_in_app, settings
        type: string

custom_tabs_toolbar:
  navigation_toolbar_action:
    type: event
    description: The user tapped on a navigation toolbar item in a custom tab.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5649
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5748
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      item:
        description: |
          A string containing the name of the item the user tapped:
          back, forward, reload, stop
        type: string
  browser_menu_action:
    type: event
    description: The user tapped on a browser menu item item in a custom tab.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5649
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5748
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      item:
        description: |
          A string containing the name of the item the user tapped:
          desktop_view_off, desktop_view_on, find_in_page, open_in_app,
          add_to_homescreen, open_in browser
        type: string
  close_tab_tapped:
    type: event
    description: The user has closed a custom tab.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5649
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5748
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  action_button_tapped:
    type: event
    description: The user has tapped the actionbutton a custom tab.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5649
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5748
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never

tracking_protection_exceptions:
  allow_list_opened:
    type: event
    description: The user has opened the exceptions list.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5753
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5758
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  allow_list_cleared:
    type: event
    description: The user has removed all items from exceptions list.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5753
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5758
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      list_size:
        description: The number of exceptions in the list.
        type: quantity
  selected_items_removed:
    type: event
    description: The user has removed the selected items from exceptions list.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5753
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5758
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      list_size:
        description: The number of selected items removed.
        type: quantity

notifications:
  open_button_tapped:
    type: event
    description: The user has tapped the Open option button from notification.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5651
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5769
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
  erase_open_button_tapped:
    type: event
    description: The user has tapped the Erase & Open button from notification.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5651
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5769
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      opened_tabs:
        description: Number of currently opened tabs
        type: quantity
  notification_tapped:
    type: event
    description: The user has tapped the notification to close the app.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5651
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5769
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never

app_shortcuts:
  just_erase_button_tapped:
    type: event
    description: The user has tapped the Erase option button from shortcuts.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5651
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5769
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      opened_tabs:
        description: Number of currently opened tabs
        type: quantity
  erase_open_button_tapped:
    type: event
    description: The user has tapped the Erase & Open button from shortcuts.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5651
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5769
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      opened_tabs:
        description: Number of currently opened tabs
        type: quantity

recent_apps:
  app_removed_from_list:
    type: event
    description: The user removed the apps from recent apps screen.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5651
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5769
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never

context_menu:
  item_tapped:
    type: event
    description: The user has tapped an option from context menu.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5647
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5773
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      item_name:
        description: |
          The name of the item that was tapped. One of the following:
          open_in_new_tab, open_in_private_tab, open_image_in_new_tab,
          save_image, share_link, copy_link, copy_image_location, share_image
        type: string

onboarding:
  first_screen_close_button:
    type: event
    description: The user has tapped on close button from the first screen.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7500
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7566#issuecomment-1235551604
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  get_started_button:
    type: event
    description: The user has tapped on get started button.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7500
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7566#issuecomment-1235551604
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  default_browser_button:
    type: event
    description: The user has tapped on set as default browser button.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7500
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7566#issuecomment-1235551604
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  skip_button:
    type: event
    description: The user has tapped on skip button.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7500
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7566#issuecomment-1235551604
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  second_screen_close_button:
    type: event
    description: The user has tapped on close button from the second screen.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7500
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7566#issuecomment-1235551604
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
  page_displayed:
    type: event
    description: A page from onboarding has been displayed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5635
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5869
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      current_item:
        description: The curent displayed item position.
        type: quantity
  skip_button_tapped:
    type: event
    description: The user has tapped to skip onboarding.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5635
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5869
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      current_item:
        description: The curent displayed item position.
        type: quantity
  finish_button_tapped:
    type: event
    description: The user has tapped to finish onboarding.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5635
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5869
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      current_item:
        description: The curent displayed item position.
        type: quantity
  next_button_tapped:
    type: event
    description: The user has tapped next onboarding.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5635
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5869
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      current_item:
        description: The curent displayed item position.
        type: quantity

search_suggestions:
  suggestion_tapped:
    type: event
    description: Search suggestion selected.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5662
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5864
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      engine_name:
        description: The name of the engine used to perform the search.
        type: string
  search_tapped:
    type: event
    description: The typed text search was selected.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5662
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5864
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      engine_name:
        description: The name of the engine used to perform the search.
        type: string
  autocomplete_arrow_tapped:
    type: event
    description: Search suggestion selected.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5662
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5864
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never

advanced_settings:
  remote_debug_setting_changed:
    type: event
    description: |
      Remote debugging setting has changed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5653
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5940
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_enabled:
        description: The new setting true for ON, false for OFF
        type: boolean
  open_links_setting_changed:
    type: event
    description: |
      Open links setting has changed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5653
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5940
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_enabled:
        description: The new setting true for ON, false for OFF
        type: boolean
privacy_settings:
  telemetry_setting_changed:
    type: event
    description: |
      Telemetry setting has changed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5653
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5940
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_enabled:
        description: The new setting true for ON, false for OFF
        type: boolean
  safe_browsing_setting_changed:
    type: event
    description: |
      Safe browsing setting has changed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5653
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5940
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_enabled:
        description: The new setting true for ON, false for OFF
        type: boolean
  unlock_setting_changed:
    type: event
    description: |
      Biometric unlock setting has changed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5653
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5940
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_enabled:
        description: The new setting true for ON, false for OFF
        type: boolean
  stealth_setting_changed:
    type: event
    description: |
      Stealth setting has changed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/5653
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/5940
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_enabled:
        description: The new setting true for ON, false for OFF
        type: boolean
  block_cookies_changed:
    type: event
    description: |
      Block cookies setting has changed.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/6097
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/6105
      - https://github.com/mozilla-mobile/focus-android/pull/7906
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
      - rtestard@mozilla.com
    expires: never
    extra_keys:
      is_enabled:
        description: |
          A string containing the new block cookies option the user has chosen:
          yes, third_party_only, third_party_tracker, cross_site, no
        type: string
nimbus_experiments:
  nimbus_initial_fetch:
    type: timespan
    description: >
      Measures the time spent to download the nimbus experiments
    time_unit: millisecond
    lifetime: application
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/6847
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/6972
    notification_emails:
      - android-probes@mozilla.com
    expires: 112
    data_sensitivity:
      - technical

metrics:
  start_reason_process_error:
    type: boolean
    description: |
      The `AppStartReasonProvider.ProcessLifecycleObserver.onCreate` was
      unexpectedly called twice. We can use this metric to validate our
      assumptions about how these APIs are called. This probe can be removed
      once we validate these assumptions.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7079
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/
    data_sensitivity:
      - technical
    notification_emails:
      - perf-telemetry-alerts@mozilla.com
      - mleclair@mozilla.com
    expires: never
    metadata:
      tags:
        - Performance
  start_reason_activity_error:
    type: boolean
    description: |
      The `AppStartReasonProvider.ActivityLifecycleCallbacks.onActivityCreated`
      was unexpectedly called twice. We can use this metric to validate our
      assumptions about how these APIs are called. This probe can be removed
      once we validate these assumptions.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7079
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/
    data_sensitivity:
      - technical
    notification_emails:
      - perf-telemetry-alerts@mozilla.com
      - mleclair@mozilla.com
    expires: never
    metadata:
      tags:
        - Performance
  search_widget_installed:
    type: boolean
    lifetime: application
    description: |
      Whether or not the search widget is installed
    send_in_pings:
      - metrics
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7474
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
    metadata:
      tags:
        - Search

search_widget:
  new_tab_button:
    type: event
    description: |
      A user pressed anywhere from the Focus logo until the start of the
      microphone icon, opening a new tab search screen.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7474
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
    metadata:
      tags:
        - Search
  voice_button:
    type: event
    description: |
      A user pressed the microphone icon, opening a new voice search screen.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7474
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
    metadata:
      tags:
        - Search
  promote_dialog_shown:
    type: event
    description: |
      Promote search widget dialog is shown to the user.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7506
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7657#issuecomment-1252242947
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
    metadata:
      tags:
        - Search
  add_to_home_screen_button:
    type: event
    description: |
      The user has pressed on add search widget
      to home screen button from promote dialog.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7506
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7657#issuecomment-1252242947
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
    metadata:
      tags:
        - Search
  widget_was_added:
    type: event
    description: |
      The user has added successfully the search widget from
      promote search widget dialog.
    bugs:
      - https://github.com/mozilla-mobile/focus-android/issues/7506
    data_reviews:
      - https://github.com/mozilla-mobile/focus-android/pull/7657#issuecomment-1252242947
    data_sensitivity:
      - interaction
    notification_emails:
      - android-probes@mozilla.com
    expires: 119
    metadata:
      tags:
        - Search
